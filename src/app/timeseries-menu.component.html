<div id="TimeseriesPlot">
  <h2 mat-dialog-title>Time Series</h2>
  <div style="position: absolute; top: 80px; right: 205px;">
    <button mat-icon-button (click)="closeTimeSeries()">
      <mat-icon matTooltip="Exit Time Series">close</mat-icon>
    </button>
  </div>
  <mat-dialog-content>
    <ngx-charts-line-chart
      *ngIf="DataAvailable()"
      [view]="view"
      [scheme]="colorScheme"
      [timeline]="timeline"
      [results]="multi"
      [gradient]="gradient"
      [xAxis]="showXAxis"
      [yAxis]="showYAxis"
      [legend]="showLegend"
      [showXAxisLabel]="showXAxisLabel"
      [showYAxisLabel]="showYAxisLabel"
      [xAxisLabel]="xAxisLabel"
      [yAxisLabel]="yValTitle()"
      [autoScale]="autoScale"
    >
    </ngx-charts-line-chart>
    <br />
    <button mat-raised-button (click)="createCsvFromTimeseriesData()">
      Download Data
    </button>
    <br />
    <p>Latitude: {{ this._model.settings.CurrGridBoxLat }}</p>
    <p>Longitude: {{ this._model.settings.CurrGridBoxLon }}</p>
    <h3 mat-dialog-title>
      <u>Pressure Layers</u>
    </h3>
    <mat-dialog-actions>
      <mat-checkbox
        style="margin-right: 20px;"
        *ngFor="let level of GetLevels()"
        [checked]="IsSelected(level)"
        (click)="ToggleTimeseries(level)"
      >
        {{ level.Name }}
      </mat-checkbox>
    </mat-dialog-actions>
  </mat-dialog-content>
</div>
